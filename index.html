<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crazy 8s</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="game-container">
        <!-- Dashboard / Header -->
        <header class="game-header">
            <h1>Crazy 8s</h1>
            <div class="status-board">
                <a href="rules.html" class="rules-btn">Rules</a>
                <span id="turn-indicator">Player's Turn</span>
                <button id="restart-btn">New Game</button>
            </div>
        </header>

        <!-- New Landing Page / Lobby -->
        <div id="landing-page" class="landing-page">
            <div class="landing-card">
                <div class="landing-header">
                    <a href="rules.html" class="utility-btn">How to Play</a>
                    <h1 class="landing-title">Crazy 8s</h1>
                    <p class="landing-tagline">Create or join a game room to play with friends online.</p>
                </div>

                <div class="landing-body">
                    <div class="landing-section">
                        <label class="landing-label">Your Name</label>
                        <input type="text" id="landing-player-name" class="landing-input" placeholder="Enter your name"
                            value="Player 1">

                        <label class="landing-label">Players</label>
                        <select id="landing-player-count" class="landing-input" style="margin-bottom: 0.75rem;">
                            <option value="2">2 Players</option>
                            <option value="3">3 Players</option>
                            <option value="4">4 Players</option>
                            <option value="5">5 Players</option>
                            <option value="6">6 Players</option>
                            <option value="7">7 Players</option>
                        </select>

                        <div class="action-buttons-stack">
                            <button id="landing-create-btn" class="primary-btn">
                                <span>ðŸŽ²</span> Create New Room
                            </button>
                            <button id="landing-pve-btn" class="primary-btn secondary-style">
                                <span>ðŸ¤–</span> Play vs Computer
                            </button>
                        </div>
                    </div>

                    <div class="divider">OR</div>

                    <div class="landing-section">
                        <label class="landing-label">Join Existing Game</label>
                        <div class="join-row">
                            <input type="text" id="landing-room-input" class="landing-input" placeholder="Room Code">
                            <button id="landing-join-btn" class="primary-btn">Join</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Waiting Room Modal -->
        <div id="waiting-room-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Waiting Room</h2>
                <p>Room ID: <strong id="display-room-id">...</strong></p>
                <div id="player-list-display"></div>
                <button id="start-online-game-btn" class="hidden">Start Game</button>
            </div>
        </div>

        <!-- Hotseat Interstitial Modal (For future use) -->
        <div id="hotseat-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Next Player</h2>
                <p id="next-player-name">Player X</p>
                <button id="ready-btn">I'm Ready</button>
            </div>
        </div>

        <!-- Opponents Container (Top/Sides) -->
        <div id="opponents-container">
            <!-- Opponent components generated dynamically -->
        </div>

        <!-- Center Table (Deck & Discard) -->
        <div id="table-area">
            <div class="deck-area">
                <div id="draw-pile" class="card-stack">
                    <div class="card-back"></div>
                </div>
                <!-- Draw Feedback message -->
                <div id="message-area"></div>
            </div>

            <div class="discard-area">
                <div id="discard-pile" class="card-stack">
                    <!-- Top card goes here -->
                </div>
                <div id="suit-indicator" class="hidden">
                    Current Suit: <span id="current-suit-display"></span>
                </div>
            </div>
        </div>

        <!-- Current Player Area (Bottom) -->
        <div id="player-area" class="player-area">
            <div id="player-hand" class="hand"></div>
            <div class="player-info">
                <div class="avatar human" id="current-player-avatar">ðŸ‘¤</div>
                <div class="details">
                    <span class="name" id="current-player-name">You</span>
                    <span class="card-count" style="display:none">Cards: <span id="player-card-count">0</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Suit Selection Modal -->
    <div id="suit-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Pick a Suit</h2>
            <div class="suit-options">
                <button class="suit-btn red" data-suit="hearts">â™¥ Hearts</button>
                <button class="suit-btn red" data-suit="diamonds">â™¦ Diamonds</button>
                <button class="suit-btn black" data-suit="clubs">â™£ Clubs</button>
                <button class="suit-btn black" data-suit="spades">â™  Spades</button>
            </div>
        </div>
    </div>

    <div id="game-over-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="winner-text">You Win!</h2>
            <button id="play-again-btn">Play Again</button>
        </div>
    </div>

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    <script src="script.js?v=1.5"></script>
</body>

</html>